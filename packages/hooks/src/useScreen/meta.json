{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-screen",
  "type": "registry:hook",
  "title": "useScreen",
  "description": "The hooks options.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "use-debounce-callback",
    "use-event-listener",
    "use-isomorphic-layout-effect"
  ],
  "file": {
    "content": "import { useState } from \"react\";\n\nimport { useDebounceCallback } from \"./use-debounce-callback\";\nimport { useEventListener } from \"./use-event-listener\";\nimport { useIsomorphicLayoutEffect } from \"./use-isomorphic-layout-effect\";\n\ntype UseScreenOptions<InitializeWithValue extends boolean | undefined> = {\n  initializeWithValue: InitializeWithValue;\n\n  debounceDelay?: number;\n};\n\nconst IS_SERVER = typeof window === \"undefined\";\n\nexport function useScreen(options: UseScreenOptions<false>): Screen | undefined;\n\nexport function useScreen(options?: Partial<UseScreenOptions<true>>): Screen;\n\nexport function useScreen(\n  options: Partial<UseScreenOptions<boolean>> = {},\n): Screen | undefined {\n  let { initializeWithValue = true } = options;\n  if (IS_SERVER) {\n    initializeWithValue = false;\n  }\n\n  const readScreen = () => {\n    if (IS_SERVER) {\n      return undefined;\n    }\n    return window.screen;\n  };\n\n  const [screen, setScreen] = useState<Screen | undefined>(() => {\n    if (initializeWithValue) {\n      return readScreen();\n    }\n    return undefined;\n  });\n\n  const debouncedSetScreen = useDebounceCallback(\n    setScreen,\n    options.debounceDelay,\n  );\n\n  function handleSize() {\n    const newScreen = readScreen();\n    const setSize = options.debounceDelay ? debouncedSetScreen : setScreen;\n\n    if (newScreen) {\n      const {\n        width,\n        height,\n        availHeight,\n        availWidth,\n        colorDepth,\n        orientation,\n        pixelDepth,\n      } = newScreen;\n\n      setSize({\n        width,\n        height,\n        availHeight,\n        availWidth,\n        colorDepth,\n        orientation,\n        pixelDepth,\n      });\n    }\n  }\n\n  useEventListener(\"resize\", handleSize);\n\n  useIsomorphicLayoutEffect(() => {\n    handleSize();\n  }, []);\n\n  return screen;\n}\n",
    "js": "import { useState } from \"react\";\nimport { useDebounceCallback } from \"./use-debounce-callback\";\nimport { useEventListener } from \"./use-event-listener\";\nimport { useIsomorphicLayoutEffect } from \"./use-isomorphic-layout-effect\";\nconst IS_SERVER = typeof window === \"undefined\";\nexport function useScreen(options = {}) {\n    let { initializeWithValue = true } = options;\n    if (IS_SERVER) {\n        initializeWithValue = false;\n    }\n    const readScreen = () => {\n        if (IS_SERVER) {\n            return undefined;\n        }\n        return window.screen;\n    };\n    const [screen, setScreen] = useState(() => {\n        if (initializeWithValue) {\n            return readScreen();\n        }\n        return undefined;\n    });\n    const debouncedSetScreen = useDebounceCallback(setScreen, options.debounceDelay);\n    function handleSize() {\n        const newScreen = readScreen();\n        const setSize = options.debounceDelay ? debouncedSetScreen : setScreen;\n        if (newScreen) {\n            const { width, height, availHeight, availWidth, colorDepth, orientation, pixelDepth, } = newScreen;\n            setSize({\n                width,\n                height,\n                availHeight,\n                availWidth,\n                colorDepth,\n                orientation,\n                pixelDepth,\n            });\n        }\n    }\n    useEventListener(\"resize\", handleSize);\n    useIsomorphicLayoutEffect(() => {\n        handleSize();\n    }, []);\n    return screen;\n}"
  }
}