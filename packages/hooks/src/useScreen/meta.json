{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-screen",
  "type": "registry:hook",
  "title": "useScreen",
  "description": "The hooks options.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "use-debounce-callback",
    "use-event-listener",
    "use-isomorphic-layout-effect"
  ],
  "file": {
    "content": "import { useState } from \"react\";\r\n\r\n\n\n\n\r\ntype UseScreenOptions<InitializeWithValue extends boolean | undefined> = {\r\n  \r\n  initializeWithValue: InitializeWithValue;\r\n  \r\n  debounceDelay?: number;\r\n};\r\n\r\nconst IS_SERVER = typeof window === \"undefined\";\r\n\r\n\r\nexport function useScreen(options: UseScreenOptions<false>): Screen | undefined;\r\n\r\nexport function useScreen(options?: Partial<UseScreenOptions<true>>): Screen;\r\n\r\nexport function useScreen(\r\n  options: Partial<UseScreenOptions<boolean>> = {},\r\n): Screen | undefined {\r\n  let { initializeWithValue = true } = options;\r\n  if (IS_SERVER) {\r\n    initializeWithValue = false;\r\n  }\r\n\r\n  const readScreen = () => {\r\n    if (IS_SERVER) {\r\n      return undefined;\r\n    }\r\n    return window.screen;\r\n  };\r\n\r\n  const [screen, setScreen] = useState<Screen | undefined>(() => {\r\n    if (initializeWithValue) {\r\n      return readScreen();\r\n    }\r\n    return undefined;\r\n  });\r\n\r\n  const debouncedSetScreen = useDebounceCallback(\r\n    setScreen,\r\n    options.debounceDelay,\r\n  );\r\n\r\n  \r\n  function handleSize() {\r\n    const newScreen = readScreen();\r\n    const setSize = options.debounceDelay ? debouncedSetScreen : setScreen;\r\n\r\n    if (newScreen) {\r\n      \r\n      const {\r\n        width,\r\n        height,\r\n        availHeight,\r\n        availWidth,\r\n        colorDepth,\r\n        orientation,\r\n        pixelDepth,\r\n      } = newScreen;\r\n\r\n      setSize({\r\n        width,\r\n        height,\r\n        availHeight,\r\n        availWidth,\r\n        colorDepth,\r\n        orientation,\r\n        pixelDepth,\r\n      });\r\n    }\r\n  }\r\n\r\n  useEventListener(\"resize\", handleSize);\r\n\r\n  \r\n  useIsomorphicLayoutEffect(() => {\r\n    handleSize();\r\n  }, []);\r\n\r\n  return screen;\r\n}",
    "js": "import { useState } from \"react\";\nconst IS_SERVER = typeof window === \"undefined\";\nexport function useScreen(options = {}) {\n    let { initializeWithValue = true } = options;\n    if (IS_SERVER) {\n        initializeWithValue = false;\n    }\n    const readScreen = () => {\n        if (IS_SERVER) {\n            return undefined;\n        }\n        return window.screen;\n    };\n    const [screen, setScreen] = useState(() => {\n        if (initializeWithValue) {\n            return readScreen();\n        }\n        return undefined;\n    });\n    const debouncedSetScreen = useDebounceCallback(setScreen, options.debounceDelay);\n    function handleSize() {\n        const newScreen = readScreen();\n        const setSize = options.debounceDelay ? debouncedSetScreen : setScreen;\n        if (newScreen) {\n            const { width, height, availHeight, availWidth, colorDepth, orientation, pixelDepth, } = newScreen;\n            setSize({\n                width,\n                height,\n                availHeight,\n                availWidth,\n                colorDepth,\n                orientation,\n                pixelDepth,\n            });\n        }\n    }\n    useEventListener(\"resize\", handleSize);\n    useIsomorphicLayoutEffect(() => {\n        handleSize();\n    }, []);\n    return screen;\n}"
  }
}