{
  "$schema": "https://sse-hooks.vercel.app/api/registry/schema/hook.json",
  "name": "with-defaults",
  "type": "registry:hook",
  "title": "withDefaults",
  "description": "",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import { useMemo } from \"react\";\n\nexport type IfAny<T, Y, N> = 0 extends 1 & T ? Y : N;\nexport type DefineProps<T, BKeys extends keyof T> = Readonly<T> & {\n  readonly [K in BKeys]-?: boolean;\n};\n\ntype NotUndefined<T> = T extends undefined ? never : T;\ntype MappedOmit<T, K extends keyof any> = {\n  [P in keyof T as P extends K ? never : P]: T[P];\n};\n\ntype InferDefaults<T> = {\n  [K in keyof T]?: InferDefault<T, T[K]>;\n};\n\ntype NativeType =\n  | null\n  | undefined\n  | number\n  | string\n  | boolean\n  | symbol\n  | Function;\n\ntype InferDefault<P, T> =\n  | ((props: P) => T & {})\n  | (T extends NativeType ? T : never);\n\ntype PropsWithDefaults<\n  T,\n  Defaults extends InferDefaults<T>,\n  BKeys extends keyof T,\n> = T extends unknown\n  ? Readonly<MappedOmit<T, keyof Defaults>> & {\n      readonly [K in keyof Defaults as K extends keyof T\n        ? K\n        : never]-?: K extends keyof T\n        ? Defaults[K] extends undefined\n          ? IfAny<Defaults[K], NotUndefined<T[K]>, T[K]>\n          : NotUndefined<T[K]>\n        : never;\n    } & {\n      readonly [K in BKeys]-?: K extends keyof Defaults\n        ? Defaults[K] extends undefined\n          ? boolean | undefined\n          : boolean\n        : boolean;\n    }\n  : never;\n\nexport function withDefaults<T, BKeys extends keyof T = never>(\n  props: DefineProps<T, BKeys>,\n  defaults: InferDefaults<T>,\n): PropsWithDefaults<T, InferDefaults<T>, BKeys> {\n  const merged = useMemo(() => {\n    const result = { ...props } as any;\n\n    for (const key in defaults) {\n      if (!(key in result) || result[key] === undefined) {\n        const def = defaults[key];\n        if (typeof def === \"function\") {\n          result[key] = (def as (props: T) => any)(result);\n        } else {\n          result[key] = def;\n        }\n      }\n    }\n\n    return result;\n  }, [props, defaults]);\n\n  return merged as PropsWithDefaults<T, InferDefaults<T>, BKeys>;\n}\n",
    "js": "import { useMemo } from \"react\";\nexport function withDefaults(props, defaults) {\n    const merged = useMemo(() => {\n        const result = { ...props };\n        for (const key in defaults) {\n            if (!(key in result) || result[key] === undefined) {\n                const def = defaults[key];\n                if (typeof def === \"function\") {\n                    result[key] = def(result);\n                }\n                else {\n                    result[key] = def;\n                }\n            }\n        }\n        return result;\n    }, [props, defaults]);\n    return merged;\n}"
  }
}