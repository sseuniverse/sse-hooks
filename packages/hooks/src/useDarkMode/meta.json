{
  "$schema": "https://sse-hooks.vercel.app/api/registry/schema/hook.json",
  "name": "use-dark-mode",
  "type": "registry:hook",
  "title": "useDarkMode",
  "description": "The hook options.",
  "dependencies": [],
  "registryDependencies": [
    "use-isomorphic-layout-effect",
    "use-local-storage",
    "use-media-query"
  ],
  "file": {
    "content": "import { useIsomorphicLayoutEffect } from \"./use-isomorphic-layout-effect\";\nimport { useLocalStorage } from \"./use-local-storage\";\nimport { useMediaQuery } from \"./use-media-query\";\n\nconst COLOR_SCHEME_QUERY = \"(prefers-color-scheme: dark)\";\nconst LOCAL_STORAGE_KEY = \"sse-hooks-dark-mode\";\n\ntype DarkModeOptions = {\n  defaultValue?: boolean;\n\n  localStorageKey?: string;\n\n  initializeWithValue?: boolean;\n};\n\ntype DarkModeReturn = {\n  isDarkMode: boolean;\n\n  toggle: () => void;\n\n  enable: () => void;\n\n  disable: () => void;\n\n  set: (value: boolean) => void;\n};\n\nexport function useDarkMode(options: DarkModeOptions = {}): DarkModeReturn {\n  const {\n    defaultValue,\n    localStorageKey = LOCAL_STORAGE_KEY,\n    initializeWithValue = true,\n  } = options;\n\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY, {\n    initializeWithValue,\n    defaultValue,\n  });\n  const [isDarkMode, setDarkMode] = useLocalStorage<boolean>(\n    localStorageKey,\n    defaultValue ?? isDarkOS ?? false,\n    { initializeWithValue },\n  );\n\n  useIsomorphicLayoutEffect(() => {\n    if (isDarkOS !== isDarkMode) {\n      setDarkMode(isDarkOS);\n    }\n  }, [isDarkOS]);\n\n  return {\n    isDarkMode,\n    toggle: () => {\n      setDarkMode((prev) => !prev);\n    },\n    enable: () => {\n      setDarkMode(true);\n    },\n    disable: () => {\n      setDarkMode(false);\n    },\n    set: (value) => {\n      setDarkMode(value);\n    },\n  };\n}\n",
    "js": "import { useIsomorphicLayoutEffect } from \"./use-isomorphic-layout-effect\";\nimport { useLocalStorage } from \"./use-local-storage\";\nimport { useMediaQuery } from \"./use-media-query\";\nconst COLOR_SCHEME_QUERY = \"(prefers-color-scheme: dark)\";\nconst LOCAL_STORAGE_KEY = \"sse-hooks-dark-mode\";\nexport function useDarkMode(options = {}) {\n    const { defaultValue, localStorageKey = LOCAL_STORAGE_KEY, initializeWithValue = true, } = options;\n    const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY, {\n        initializeWithValue,\n        defaultValue,\n    });\n    const [isDarkMode, setDarkMode] = useLocalStorage(localStorageKey, defaultValue ?? isDarkOS ?? false, { initializeWithValue });\n    useIsomorphicLayoutEffect(() => {\n        if (isDarkOS !== isDarkMode) {\n            setDarkMode(isDarkOS);\n        }\n    }, [isDarkOS]);\n    return {\n        isDarkMode,\n        toggle: () => {\n            setDarkMode((prev) => !prev);\n        },\n        enable: () => {\n            setDarkMode(true);\n        },\n        disable: () => {\n            setDarkMode(false);\n        },\n        set: (value) => {\n            setDarkMode(value);\n        },\n    };\n}"
  }
}