{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-map",
  "type": "registry:hook",
  "title": "useMap",
  "description": "Represents the type for either a Map or an array of key-value pairs.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import { useCallback, useState } from \"react\";\r\n\r\n\r\ntype MapOrEntries<K, V> = Map<K, V> | [K, V][];\r\n\r\n\r\ntype UseMapActions<K, V> = {\r\n  \r\n  set: (key: K, value: V) => void;\r\n  \r\n  setAll: (entries: MapOrEntries<K, V>) => void;\r\n  \r\n  remove: (key: K) => void;\r\n  \r\n  reset: Map<K, V>[\"clear\"];\r\n};\r\n\r\n\r\ntype UseMapReturn<K, V> = [\r\n  Omit<Map<K, V>, \"set\" | \"clear\" | \"delete\">,\r\n  UseMapActions<K, V>,\r\n];\r\n\r\n\r\nexport function useMap<K, V>(\r\n  initialState: MapOrEntries<K, V> = new Map(),\r\n): UseMapReturn<K, V> {\r\n  const [map, setMap] = useState(new Map(initialState));\r\n\r\n  const actions: UseMapActions<K, V> = {\r\n    set: useCallback((key, value) => {\r\n      setMap((prev) => {\r\n        const copy = new Map(prev);\r\n        copy.set(key, value);\r\n        return copy;\r\n      });\r\n    }, []),\r\n\r\n    setAll: useCallback((entries) => {\r\n      setMap(() => new Map(entries));\r\n    }, []),\r\n\r\n    remove: useCallback((key) => {\r\n      setMap((prev) => {\r\n        const copy = new Map(prev);\r\n        copy.delete(key);\r\n        return copy;\r\n      });\r\n    }, []),\r\n\r\n    reset: useCallback(() => {\r\n      setMap(() => new Map());\r\n    }, []),\r\n  };\r\n\r\n  return [map, actions];\r\n}",
    "js": "import { useCallback, useState } from \"react\";\nexport function useMap(initialState = new Map()) {\n    const [map, setMap] = useState(new Map(initialState));\n    const actions = {\n        set: useCallback((key, value) => {\n            setMap((prev) => {\n                const copy = new Map(prev);\n                copy.set(key, value);\n                return copy;\n            });\n        }, []),\n        setAll: useCallback((entries) => {\n            setMap(() => new Map(entries));\n        }, []),\n        remove: useCallback((key) => {\n            setMap((prev) => {\n                const copy = new Map(prev);\n                copy.delete(key);\n                return copy;\n            });\n        }, []),\n        reset: useCallback(() => {\n            setMap(() => new Map());\n        }, []),\n    };\n    return [map, actions];\n}"
  }
}