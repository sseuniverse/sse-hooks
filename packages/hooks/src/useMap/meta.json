{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-map",
  "type": "registry:hook",
  "title": "useMap",
  "description": "Represents the type for either a Map or an array of key-value pairs.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import { useCallback, useState } from \"react\";\n\ntype MapOrEntries<K, V> = Map<K, V> | [K, V][];\n\ntype UseMapActions<K, V> = {\n  set: (key: K, value: V) => void;\n\n  setAll: (entries: MapOrEntries<K, V>) => void;\n\n  remove: (key: K) => void;\n\n  reset: Map<K, V>[\"clear\"];\n};\n\ntype UseMapReturn<K, V> = [\n  Omit<Map<K, V>, \"set\" | \"clear\" | \"delete\">,\n  UseMapActions<K, V>,\n];\n\nexport function useMap<K, V>(\n  initialState: MapOrEntries<K, V> = new Map(),\n): UseMapReturn<K, V> {\n  const [map, setMap] = useState(new Map(initialState));\n\n  const actions: UseMapActions<K, V> = {\n    set: useCallback((key, value) => {\n      setMap((prev) => {\n        const copy = new Map(prev);\n        copy.set(key, value);\n        return copy;\n      });\n    }, []),\n\n    setAll: useCallback((entries) => {\n      setMap(() => new Map(entries));\n    }, []),\n\n    remove: useCallback((key) => {\n      setMap((prev) => {\n        const copy = new Map(prev);\n        copy.delete(key);\n        return copy;\n      });\n    }, []),\n\n    reset: useCallback(() => {\n      setMap(() => new Map());\n    }, []),\n  };\n\n  return [map, actions];\n}\n",
    "js": "import { useCallback, useState } from \"react\";\nexport function useMap(initialState = new Map()) {\n    const [map, setMap] = useState(new Map(initialState));\n    const actions = {\n        set: useCallback((key, value) => {\n            setMap((prev) => {\n                const copy = new Map(prev);\n                copy.set(key, value);\n                return copy;\n            });\n        }, []),\n        setAll: useCallback((entries) => {\n            setMap(() => new Map(entries));\n        }, []),\n        remove: useCallback((key) => {\n            setMap((prev) => {\n                const copy = new Map(prev);\n                copy.delete(key);\n                return copy;\n            });\n        }, []),\n        reset: useCallback(() => {\n            setMap(() => new Map());\n        }, []),\n    };\n    return [map, actions];\n}"
  }
}