{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-ternary-dark-mode",
  "type": "registry:hook",
  "title": "useTernaryDarkMode",
  "description": "Ternary dark mode options.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "use-local-storage",
    "use-media-query"
  ],
  "file": {
    "content": "import type { Dispatch, SetStateAction } from \"react\";\r\n\r\n\n\nconst COLOR_SCHEME_QUERY = \"(prefers-color-scheme: dark)\";\r\nconst LOCAL_STORAGE_KEY = \"sse-hooks-ternary-dark-mode\";\r\n\r\n\r\nexport type TernaryDarkMode = \"system\" | \"dark\" | \"light\";\r\n\r\n\r\nexport type TernaryDarkModeOptions = {\r\n  \r\n  defaultValue?: TernaryDarkMode;\r\n  \r\n  localStorageKey?: string;\r\n  \r\n  initializeWithValue?: boolean;\r\n};\r\n\r\n\r\nexport type TernaryDarkModeReturn = {\r\n  \r\n  isDarkMode: boolean;\r\n  \r\n  ternaryDarkMode: TernaryDarkMode;\r\n  \r\n  setTernaryDarkMode: Dispatch<SetStateAction<TernaryDarkMode>>;\r\n  \r\n  toggleTernaryDarkMode: () => void;\r\n};\r\n\r\n\r\nexport function useTernaryDarkMode({\r\n  defaultValue = \"system\",\r\n  localStorageKey = LOCAL_STORAGE_KEY,\r\n  initializeWithValue = true,\r\n}: TernaryDarkModeOptions = {}): TernaryDarkModeReturn {\r\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY, { initializeWithValue });\r\n  const [mode, setMode] = useLocalStorage(localStorageKey, defaultValue, {\r\n    initializeWithValue,\r\n  });\r\n\r\n  const isDarkMode = mode === \"dark\" || (mode === \"system\" && isDarkOS);\r\n\r\n  const toggleTernaryDarkMode = () => {\r\n    const modes: TernaryDarkMode[] = [\"light\", \"system\", \"dark\"];\r\n    setMode((prevMode): TernaryDarkMode => {\r\n      const nextIndex = (modes.indexOf(prevMode) + 1) % modes.length;\r\n      return modes[nextIndex];\r\n    });\r\n  };\r\n\r\n  return {\r\n    isDarkMode,\r\n    ternaryDarkMode: mode,\r\n    setTernaryDarkMode: setMode,\r\n    toggleTernaryDarkMode,\r\n  };\r\n}",
    "js": "const COLOR_SCHEME_QUERY = \"(prefers-color-scheme: dark)\";\nconst LOCAL_STORAGE_KEY = \"sse-hooks-ternary-dark-mode\";\nexport function useTernaryDarkMode({ defaultValue = \"system\", localStorageKey = LOCAL_STORAGE_KEY, initializeWithValue = true, } = {}) {\n    const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY, { initializeWithValue });\n    const [mode, setMode] = useLocalStorage(localStorageKey, defaultValue, {\n        initializeWithValue,\n    });\n    const isDarkMode = mode === \"dark\" || (mode === \"system\" && isDarkOS);\n    const toggleTernaryDarkMode = () => {\n        const modes = [\"light\", \"system\", \"dark\"];\n        setMode((prevMode) => {\n            const nextIndex = (modes.indexOf(prevMode) + 1) % modes.length;\n            return modes[nextIndex];\n        });\n    };\n    return {\n        isDarkMode,\n        ternaryDarkMode: mode,\n        setTernaryDarkMode: setMode,\n        toggleTernaryDarkMode,\n    };\n}"
  }
}