{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-ssr",
  "type": "registry:hook",
  "title": "useSSR",
  "description": "",
  "dependencies": [],
  "registryDependencies": [],
  "file": {
    "content": "export enum Device {\r\n  Browser = \"browser\",\r\n  Server = \"server\",\r\n  Native = \"native\",\r\n}\r\n\n\nexport interface UseSSRReturn {\r\n  isBrowser: boolean;\r\n  isServer: boolean;\r\n  isNative: boolean;\r\n  device: Device;\r\n  canUseWorkers: boolean;\r\n  canUseEventListeners: boolean;\r\n  canUseViewport: boolean;\r\n}\r\n\n\n\nconst { Browser, Server, Native } = Device;\r\n\r\nconst canUseDOM = !!(\r\n  typeof window !== \"undefined\" &&\r\n  window.document &&\r\n  window.document.createElement\r\n);\r\n\r\nconst canUseNative: boolean =\r\n  typeof navigator != \"undefined\" && navigator.product == \"ReactNative\";\r\n\r\nconst device = canUseNative ? Native : canUseDOM ? Browser : Server;\r\n\r\nconst SSRObject: UseSSRReturn = {\r\n  isBrowser: device === Browser,\r\n  isServer: device === Server,\r\n  isNative: device === Native,\r\n  device,\r\n  canUseWorkers: typeof Worker !== \"undefined\",\r\n  canUseEventListeners: device === Browser && !!window.addEventListener,\r\n  canUseViewport: device === Browser && !!window.screen,\r\n};\r\n\r\nconst assign = (...args: any[]) =>\r\n  args.reduce((acc, obj) => ({ ...acc, ...obj }), {});\r\nconst values = (obj: any) => Object.keys(obj).map((key) => obj[key]);\r\nconst toArrayObject = (): UseSSRReturn =>\r\n  assign((values(SSRObject), SSRObject));\r\n\r\nlet useSSRObject = toArrayObject();\r\n\r\nexport const weAreServer = () => {\r\n  SSRObject.isServer = true;\r\n  useSSRObject = toArrayObject();\r\n};\r\n\r\nexport const useSSR = (): UseSSRReturn => useSSRObject;",
    "js": "export var Device;\n(function (Device) {\n    Device[\"Browser\"] = \"browser\";\n    Device[\"Server\"] = \"server\";\n    Device[\"Native\"] = \"native\";\n})(Device || (Device = {}));\nconst { Browser, Server, Native } = Device;\nconst canUseDOM = !!(typeof window !== \"undefined\" &&\n    window.document &&\n    window.document.createElement);\nconst canUseNative = typeof navigator != \"undefined\" && navigator.product == \"ReactNative\";\nconst device = canUseNative ? Native : canUseDOM ? Browser : Server;\nconst SSRObject = {\n    isBrowser: device === Browser,\n    isServer: device === Server,\n    isNative: device === Native,\n    device,\n    canUseWorkers: typeof Worker !== \"undefined\",\n    canUseEventListeners: device === Browser && !!window.addEventListener,\n    canUseViewport: device === Browser && !!window.screen,\n};\nconst assign = (...args) => args.reduce((acc, obj) => ({ ...acc, ...obj }), {});\nconst values = (obj) => Object.keys(obj).map((key) => obj[key]);\nconst toArrayObject = () => assign((values(SSRObject), SSRObject));\nlet useSSRObject = toArrayObject();\nexport const weAreServer = () => {\n    SSRObject.isServer = true;\n    useSSRObject = toArrayObject();\n};\nexport const useSSR = () => useSSRObject;"
  }
}