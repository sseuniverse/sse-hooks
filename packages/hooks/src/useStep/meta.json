{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-step",
  "type": "registry:hook",
  "title": "useStep",
  "description": "Represents the second element of the output of the `useStep` hook.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import { useCallback, useState } from \"react\";\r\n\r\nimport type { Dispatch, SetStateAction } from \"react\";\r\n\r\n\r\ntype UseStepActions = {\r\n  \r\n  goToNextStep: () => void;\r\n  \r\n  goToPrevStep: () => void;\r\n  \r\n  reset: () => void;\r\n  \r\n  canGoToNextStep: boolean;\r\n  \r\n  canGoToPrevStep: boolean;\r\n  \r\n  setStep: Dispatch<SetStateAction<number>>;\r\n};\r\n\r\ntype SetStepCallbackType = (step: number | ((step: number) => number)) => void;\r\n\r\n\r\nexport function useStep(maxStep: number): [number, UseStepActions] {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n\r\n  const canGoToNextStep = currentStep + 1 <= maxStep;\r\n  const canGoToPrevStep = currentStep - 1 > 0;\r\n\r\n  const setStep = useCallback<SetStepCallbackType>(\r\n    (step) => {\r\n      \r\n      const newStep = step instanceof Function ? step(currentStep) : step;\r\n\r\n      if (newStep >= 1 && newStep <= maxStep) {\r\n        setCurrentStep(newStep);\r\n        return;\r\n      }\r\n\r\n      throw new Error(\"Step not valid\");\r\n    },\r\n    [maxStep, currentStep],\r\n  );\r\n\r\n  const goToNextStep = useCallback(() => {\r\n    if (canGoToNextStep) {\r\n      setCurrentStep((step) => step + 1);\r\n    }\r\n  }, [canGoToNextStep]);\r\n\r\n  const goToPrevStep = useCallback(() => {\r\n    if (canGoToPrevStep) {\r\n      setCurrentStep((step) => step - 1);\r\n    }\r\n  }, [canGoToPrevStep]);\r\n\r\n  const reset = useCallback(() => {\r\n    setCurrentStep(1);\r\n  }, []);\r\n\r\n  return [\r\n    currentStep,\r\n    {\r\n      goToNextStep,\r\n      goToPrevStep,\r\n      canGoToNextStep,\r\n      canGoToPrevStep,\r\n      setStep,\r\n      reset,\r\n    },\r\n  ];\r\n}",
    "js": "import { useCallback, useState } from \"react\";\nexport function useStep(maxStep) {\n    const [currentStep, setCurrentStep] = useState(1);\n    const canGoToNextStep = currentStep + 1 <= maxStep;\n    const canGoToPrevStep = currentStep - 1 > 0;\n    const setStep = useCallback((step) => {\n        const newStep = step instanceof Function ? step(currentStep) : step;\n        if (newStep >= 1 && newStep <= maxStep) {\n            setCurrentStep(newStep);\n            return;\n        }\n        throw new Error(\"Step not valid\");\n    }, [maxStep, currentStep]);\n    const goToNextStep = useCallback(() => {\n        if (canGoToNextStep) {\n            setCurrentStep((step) => step + 1);\n        }\n    }, [canGoToNextStep]);\n    const goToPrevStep = useCallback(() => {\n        if (canGoToPrevStep) {\n            setCurrentStep((step) => step - 1);\n        }\n    }, [canGoToPrevStep]);\n    const reset = useCallback(() => {\n        setCurrentStep(1);\n    }, []);\n    return [\n        currentStep,\n        {\n            goToNextStep,\n            goToPrevStep,\n            canGoToNextStep,\n            canGoToPrevStep,\n            setStep,\n            reset,\n        },\n    ];\n}"
  }
}