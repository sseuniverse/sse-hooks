{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-step",
  "type": "registry:hook",
  "title": "useStep",
  "description": "Represents the second element of the output of the `useStep` hook.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import { useCallback, useState } from \"react\";\n\nimport type { Dispatch, SetStateAction } from \"react\";\n\ntype UseStepActions = {\n  goToNextStep: () => void;\n\n  goToPrevStep: () => void;\n\n  reset: () => void;\n\n  canGoToNextStep: boolean;\n\n  canGoToPrevStep: boolean;\n\n  setStep: Dispatch<SetStateAction<number>>;\n};\n\ntype SetStepCallbackType = (step: number | ((step: number) => number)) => void;\n\nexport function useStep(maxStep: number): [number, UseStepActions] {\n  const [currentStep, setCurrentStep] = useState(1);\n\n  const canGoToNextStep = currentStep + 1 <= maxStep;\n  const canGoToPrevStep = currentStep - 1 > 0;\n\n  const setStep = useCallback<SetStepCallbackType>(\n    (step) => {\n      const newStep = step instanceof Function ? step(currentStep) : step;\n\n      if (newStep >= 1 && newStep <= maxStep) {\n        setCurrentStep(newStep);\n        return;\n      }\n\n      throw new Error(\"Step not valid\");\n    },\n    [maxStep, currentStep],\n  );\n\n  const goToNextStep = useCallback(() => {\n    if (canGoToNextStep) {\n      setCurrentStep((step) => step + 1);\n    }\n  }, [canGoToNextStep]);\n\n  const goToPrevStep = useCallback(() => {\n    if (canGoToPrevStep) {\n      setCurrentStep((step) => step - 1);\n    }\n  }, [canGoToPrevStep]);\n\n  const reset = useCallback(() => {\n    setCurrentStep(1);\n  }, []);\n\n  return [\n    currentStep,\n    {\n      goToNextStep,\n      goToPrevStep,\n      canGoToNextStep,\n      canGoToPrevStep,\n      setStep,\n      reset,\n    },\n  ];\n}\n",
    "js": "import { useCallback, useState } from \"react\";\nexport function useStep(maxStep) {\n    const [currentStep, setCurrentStep] = useState(1);\n    const canGoToNextStep = currentStep + 1 <= maxStep;\n    const canGoToPrevStep = currentStep - 1 > 0;\n    const setStep = useCallback((step) => {\n        const newStep = step instanceof Function ? step(currentStep) : step;\n        if (newStep >= 1 && newStep <= maxStep) {\n            setCurrentStep(newStep);\n            return;\n        }\n        throw new Error(\"Step not valid\");\n    }, [maxStep, currentStep]);\n    const goToNextStep = useCallback(() => {\n        if (canGoToNextStep) {\n            setCurrentStep((step) => step + 1);\n        }\n    }, [canGoToNextStep]);\n    const goToPrevStep = useCallback(() => {\n        if (canGoToPrevStep) {\n            setCurrentStep((step) => step - 1);\n        }\n    }, [canGoToPrevStep]);\n    const reset = useCallback(() => {\n        setCurrentStep(1);\n    }, []);\n    return [\n        currentStep,\n        {\n            goToNextStep,\n            goToPrevStep,\n            canGoToNextStep,\n            canGoToPrevStep,\n            setStep,\n            reset,\n        },\n    ];\n}"
  }
}