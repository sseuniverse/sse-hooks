{
  "$schema": "https://sse-hooks.vercel.app/api/registry/schema/hook.json",
  "name": "use-callback-ref",
  "type": "registry:hook",
  "title": "useCallbackRef",
  "description": "A custom hook that converts a callback to a ref to avoid triggering re-renders when passed as a prop or avoid re-executing effects when passed as a dependency ```tsx const handleClick = useCallbackRef((event: MouseEvent) => {   console.log(\"Clicked!\", event); }); useEffect(() => {   window.addEventListener(\"click\", handleClick);   return () => window.removeEventListener(\"click\", handleClick); }, []); ```",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [],
  "file": {
    "content": "import React from \"react\";\n\nfunction useCallbackRef<T extends (...args: any[]) => any>(\n  callback: T | undefined,\n): T {\n  const callbackRef = React.useRef(callback);\n\n  React.useEffect(() => {\n    callbackRef.current = callback;\n  });\n\n  return React.useMemo(\n    () => ((...args) => callbackRef.current?.(...args)) as T,\n    [],\n  );\n}\n\nexport { useCallbackRef };\n",
    "js": "import React from \"react\";\nfunction useCallbackRef(callback) {\n    const callbackRef = React.useRef(callback);\n    React.useEffect(() => {\n        callbackRef.current = callback;\n    });\n    return React.useMemo(() => ((...args) => callbackRef.current?.(...args)), []);\n}\nexport { useCallbackRef };"
  }
}