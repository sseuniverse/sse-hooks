{
  "$schema": "https://raw.githubusercontent.com/sseuniverse/sse-hooks/refs/heads/main/schema/meta.json",
  "name": "use-countdown",
  "type": "registry:hook",
  "title": "useCountdown",
  "description": "The countdown's options.",
  "dependencies": [
    "react"
  ],
  "registryDependencies": [
    "use-counter",
    "use-boolean",
    "use-interval"
  ],
  "file": {
    "content": "import { useCallback } from \"react\";\nimport { useCounter } from \"./use-counter\";\nimport { useBoolean } from \"./use-boolean\";\nimport { useInterval } from \"./use-interval\";\n\ntype CountdownOptions = {\n  countStart: number;\n\n  intervalMs?: number;\n\n  isIncrement?: boolean;\n\n  countStop?: number;\n};\n\ntype CountdownControllers = {\n  startCountdown: () => void;\n\n  stopCountdown: () => void;\n\n  resetCountdown: () => void;\n};\n\nexport function useCountdown({\n  countStart,\n  countStop = 0,\n  intervalMs = 1000,\n  isIncrement = false,\n}: CountdownOptions): [number, CountdownControllers] {\n  const {\n    count,\n    increment,\n    decrement,\n    reset: resetCounter,\n  } = useCounter(countStart);\n\n  const {\n    value: isCountdownRunning,\n    setTrue: startCountdown,\n    setFalse: stopCountdown,\n  } = useBoolean(false);\n\n  const resetCountdown = useCallback(() => {\n    stopCountdown();\n    resetCounter();\n  }, [stopCountdown, resetCounter]);\n\n  const countdownCallback = useCallback(() => {\n    if (count === countStop) {\n      stopCountdown();\n      return;\n    }\n\n    if (isIncrement) {\n      increment();\n    } else {\n      decrement();\n    }\n  }, [count, countStop, decrement, increment, isIncrement, stopCountdown]);\n\n  useInterval(countdownCallback, isCountdownRunning ? intervalMs : null);\n\n  return [count, { startCountdown, stopCountdown, resetCountdown }];\n}\n",
    "js": "import { useCallback } from \"react\";\nimport { useCounter } from \"./use-counter\";\nimport { useBoolean } from \"./use-boolean\";\nimport { useInterval } from \"./use-interval\";\nexport function useCountdown({ countStart, countStop = 0, intervalMs = 1000, isIncrement = false, }) {\n    const { count, increment, decrement, reset: resetCounter, } = useCounter(countStart);\n    const { value: isCountdownRunning, setTrue: startCountdown, setFalse: stopCountdown, } = useBoolean(false);\n    const resetCountdown = useCallback(() => {\n        stopCountdown();\n        resetCounter();\n    }, [stopCountdown, resetCounter]);\n    const countdownCallback = useCallback(() => {\n        if (count === countStop) {\n            stopCountdown();\n            return;\n        }\n        if (isIncrement) {\n            increment();\n        }\n        else {\n            decrement();\n        }\n    }, [count, countStop, decrement, increment, isIncrement, stopCountdown]);\n    useInterval(countdownCallback, isCountdownRunning ? intervalMs : null);\n    return [count, { startCountdown, stopCountdown, resetCountdown }];\n}"
  }
}